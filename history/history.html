<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>History</title>
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />

    <!-- include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>

    <!-- include only the Firebase features as you need -->
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>

    <script>
      // Replace with your app config object
      const firebaseConfig = {
      apiKey: "AIzaSyDMvshvjpAT2Di9qMOe1lc1iVCP1Q--fgM",
      authDomain: "wqms-81d27.firebaseapp.com",
      databaseURL: "https://wqms-81d27-default-rtdb.firebaseio.com",
      projectId: "wqms-81d27",
      storageBucket: "wqms-81d27.appspot.com",
      messagingSenderId: "49969250289",
      appId: "1:49969250289:web:b490ce775fb2435dbe4e50"
};
      // Initialize firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <link rel="stylesheet" href="history.css" />

    <style>
      .container {
        background-color: #eeedf3;
      }

      body {
        background-color: #eeedf3;
      }
   
    </style>
  </head>

  <body>
    <div class="wrapper">
      <aside id="sidebar">
        <div class="d-flex">
          <button class="toggle-btn" type="button">
            <i class="lni lni-menu"></i>
          </button>
          <div class="sidebar-logo">
            <a href="#">Groundwater Monitoring System</a>
          </div>
        </div>
        <ul class="sidebar-nav">
          <li class="sidebar-item">
            <a href="../dashboard/dashboard.html" class="sidebar-link ">
              <i class="lni lni-dashboard"></i>
              <span class="dash">Dashboard</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="../grafik/grafik.html" class="sidebar-link">
              <i class="lni lni-graph"></i>
              <span>Grafik</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="#" class="sidebar-link active">
              <i class="lni lni-folder"></i>
              <span>Data History</span>
            </a>
          </li>
        </ul>
        <div class="sidebar-footer">
          <a href="../index.html" class="sidebar-link">
            <i class="lni lni-exit"></i>
            <span>Logout</span>
          </a>
        </div>
      </aside>

      
      <div class="container-fluid text-center ms-5 mx-auto">
        <h1 class="text-center mt-5">Data Monitoring Kualitas Air Tanah</h1>
        <div class="row">
          <p>
            <!--View data button-->
            <button id="view-data-button">View all data</button>
            <!--Hide data button-->
            <button id="hide-data-button" style="display: none">Hide data</button>
            <!--Delete data button-->
            <button id="delete-button" class="deletebtn">Delete data</button>
          </p>
          <!--Modal to delete data-->
          <div id="delete-modal" class="modal" sytle="display:none">
            <span
              onclick="document.getElementById('delete-modal').style.display='none'"
              class="close"
              title="Close Modal"
              >×</span
            >
            <form id="delete-data-form" class="modal-content" action="/">
              <div class="container">
                <h1>Delete Data</h1>
                <p>Are you sure you want to delete all data from database?</p>
                <div class="clearfix">
                  <button
                    type="button"
                    onclick="document.getElementById('delete-modal').style.display='none'"
                    class="cancelbtn"
                  >
                    Cancel
                  </button>
                  <button
                    type="submit"
                    onclick="document.getElementById('delete-modal').style.display='none'"
                    class="deletebtn"
                  >
                    Delete
                  </button>
                </div>
              </div>
            </form>
          </div>
        
          <!--TABLE WITH ALL DATA-->
          <div class="cards">
            <div class="card" id="table-container" style="display: none">
              <table id="readings-table">
                <tr id="theader">
                  <th>Timestamp</th>
                  <th>Suhu (ºC)</th>
                  <th>TDS (%)</th>
                  <th>Kekeruhan</th>
                  <th>pH</th>
                </tr>
                <tbody id="tbody"></tbody>
              </table>
              <p>
                <button id="load-data" style="display: none">More results...</button>
              </p>
            </div>
          </div>
        
      
      </div>
         
      
      <!--Modal to delete data-->
 


    
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="../dist/gauge.min.js"></script>

    <script src="history.js" type="module"></script>
  </body>
</html>
